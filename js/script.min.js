const body=document.querySelector("body");Storage.prototype.get=function(e){return JSON.parse(this.getItem(e))},Storage.prototype.set=function(e,t){return this.setItem(e,JSON.stringify(t))};const scrollInto=e=>{document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"}),s},header=document.querySelector(".header"),navLink=header.querySelector(".nav-link"),burgerMenu=document.querySelector(".burger-menu"),burgerIcon=document.querySelector(".burger-icon"),MOBILE_SIZE=550;burgerIcon.addEventListener("click",()=>{burgerMenu.classList.toggle("active"),burgerIcon.classList.toggle("active"),header.classList.contains("header_color")||header.classList.add("header_color"),body.classList.toggle("lock")});let lastScroll=0;const defaultOffset=200,scrollPosition=()=>window.pageYOffset||document.documentElement.scrollTop,containHide=()=>header.classList.contains("header_hide");function addHeaderColor(){window.pageYOffset>10?header.classList.add("header_color"):header.classList.remove("header_color")}window.addEventListener("scroll",()=>{scrollPosition()>lastScroll&&!containHide()&&scrollPosition()>200?header.classList.add("header_hide"):scrollPosition()<lastScroll&&containHide()&&header.classList.remove("header_hide"),lastScroll=scrollPosition()}),window.onscroll=addHeaderColor,addHeaderColor();const btnBottom=document.querySelector(".btn-to-bottom");btnBottom&&btnBottom.addEventListener("click",()=>{scrollInto("about")});const path={MAIN:"/",WORKS:"/works.html"},documentsSwiper=document.querySelector(".swiper-documents");if(window.location.pathname==path.MAIN){const e=localStorage.get("linkTo");e&&setTimeout(()=>{scrollInto(e)},1e3),localStorage.clear("linkTo");const t=document.querySelectorAll('a[href*="#"]');for(let e of t)e.addEventListener("click",(function(t){t.preventDefault();const i=e.getAttribute("href").substr(1);scrollInto(i),burgerIcon.classList.contains("active")&&(body.classList.remove("lock"),burgerIcon.classList.remove("active"),burgerMenu.classList.remove("active"))}));window.addEventListener("resize",e=>{});new Swiper(".works-swiper",{direction:"horizontal",loop:!0,slidesPerView:1,loopAdditionalSlides:1,spaceBetween:0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}}),new Swiper(".partners-swiper",{direction:"horizontal",slidesPerView:3,loop:!1,spaceBetween:10,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{900:{slidesPerView:5}},on:{}}),new Swiper(".swiper-documents",{direction:"horizontal",slidesPerView:1,loop:!1,spaceBetween:10,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}})}if(window.location.pathname==path.WORKS){document.querySelectorAll('a[href*="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),localStorage.set("linkTo",e.getAttribute("href").substr(1)),window.location.pathname=path.MAIN})});const e=document.querySelector(".works-page__body"),t=e.querySelector(".work"),i=[{title:"Наши работы",images:["1.jpg","2.png","3.png"],text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos repudiandae blanditiis repellat est, deleniti dolorem velit labore odit magnam reprehenderit itaque quam maxime soluta corrupti nesciunt! Quidem aperiam delectus vitae"},{title:"Наши работы",images:["1.jpg","2.png","3.png"],text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos repudiandae blanditiis repellat est, deleniti dolorem velit labore odit magnam reprehenderit itaque quam maxime soluta corrupti nesciunt! Quidem aperiam delectus vitae"},{title:"Наши работы",images:["1.jpg","2.png","3.png"],text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos repudiandae blanditiis repellat est, deleniti dolorem velit labore odit magnam reprehenderit itaque quam maxime soluta corrupti nesciunt! Quidem aperiam delectus vitae"},{title:"Наши работы",images:["1.jpg","2.png","3.png"],text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos repudiandae blanditiis repellat est, deleniti dolorem velit labore odit magnam reprehenderit itaque quam maxime soluta corrupti nesciunt! Quidem aperiam delectus vitae"},{title:"Наши работы",images:["1.jpg","2.png","3.png"],text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos repudiandae blanditiis repellat est, deleniti dolorem velit labore odit magnam reprehenderit itaque quam maxime soluta corrupti nesciunt! Quidem aperiam delectus vitae"}];if(i.length>0){const o=(e,t)=>` <div class="swiper-slide">\n            <div class="swiper-slide__img">\n                <img src="img/works/${e}" alt="${t}">\n                <div class="swiper-slide__desc">\n                    <p>\n                        ${t}\n                    </p>\n                </div>\n            </div>\n        </div>`;i.forEach((i,r)=>{const n=t.cloneNode(!0);n.classList.add("__anim-item");const s=n.querySelector(".work__body");s.classList.add("anim-opacity"),s.classList.add("d-3");const a=n.querySelector("h2");a.classList.add("anim-left");const l=n.querySelector(".works__text");n.querySelector(".works-swiper").classList.add("work-"+r);const c=n.querySelector(".swiper-wrapper"),d=n.querySelector(".work-nav");a.textContent=i.title,l.textContent=i.text;const u=i.images.map(e=>o("work1/"+e,i.title));c.innerHTML=u.join(" ");const p=i.images.map(e=>`\n            <div class="work-nav__item">\n                <img src="./img/works/work1/${e}" alt="${i.title}">\n            </div>\n        `);d.innerHTML=p.join(" "),e.prepend(n),slider(n,"work-"+r)}),t.remove()}function slider(e,t){let i=new Swiper("."+t,{slidesPerView:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const o=e.querySelectorAll(".work-nav__item");e.querySelector(".work-nav");o.forEach((e,t)=>{e.setAttribute("data-index",t),e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.index);i.slideTo(t)})})}}const animItems=document.querySelectorAll(".__anim-item");if(animItems.length>0){function animOnScroll(){for(let e=0;e<animItems.length;e++){const t=animItems[e],i=t.offsetHeight,o=offset(t).top,r=6;let n=window.innerHeight-i/r;i>window.innerHeight&&(n=window.innerHeight-window.innerHeight/r),pageYOffset>o-n&&pageYOffset<o+i?t.classList.add("__active"):body.classList.contains("__no-repeat-anim")||t.classList.remove("__active")}}function offset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+i}}window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300)}