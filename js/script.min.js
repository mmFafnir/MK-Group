const body=document.querySelector("body");Storage.prototype.get=function(e){return JSON.parse(this.getItem(e))},Storage.prototype.set=function(e,t){return this.setItem(e,JSON.stringify(t))};const scrollInto=e=>{document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})},header=document.querySelector(".header"),navLink=header.querySelector(".nav-link"),burgerMenu=document.querySelector(".burger-menu"),burgerIcon=document.querySelector(".burger-icon"),MOBILE_SIZE=550;burgerIcon.addEventListener("click",()=>{burgerMenu.classList.toggle("active"),burgerIcon.classList.toggle("active"),body.classList.toggle("lock")});const btnBottom=document.querySelector(".btn-to-bottom");btnBottom&&btnBottom.addEventListener("click",()=>{scrollInto("about")});const path={MAIN:"/",WORKS:"/works.html"};if(window.location.pathname==path.MAIN){const e=localStorage.get("linkTo");e&&setTimeout(()=>{scrollInto(e)},1e3),localStorage.clear("linkTo");const t=document.querySelectorAll('a[href*="#"]');for(let e of t)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href").substr(1);scrollInto(o),burgerIcon.classList.contains("active")&&(body.classList.remove("lock"),burgerIcon.classList.remove("active"),burgerMenu.classList.remove("active"))}));const o=document.querySelectorAll(".__anim-item");if(o.length>0){function animOnScroll(){for(let e=0;e<o.length;e++){const t=o[e],n=t.offsetHeight,r=offset(t).top,i=6;let l=window.innerHeight-n/i;n>window.innerHeight&&(l=window.innerHeight-window.innerHeight/i),pageYOffset>r-l&&pageYOffset<r+n?t.classList.add("__active"):body.classList.contains("__no-repeat-anim")||t.classList.remove("__active")}}function offset(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300)}new Swiper(".works-swiper",{direction:"horizontal",loop:!0,slidesPerView:1,loopAdditionalSlides:1,spaceBetween:0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{666:{slidesPerView:3},490:{slidesPerView:2}}});const n=document.querySelector(".current-slide"),r=document.querySelectorAll(".partners-slide").length,i=new Swiper(".partners-swiper",{direction:"horizontal",slidesPerView:1,loop:!0,spaceBetween:10,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{550:{slidesPerView:3}},on:{slideChange:function(){const e=this.realIndex+1;n.innerHTML=`<b>0${e}</b>/0${r}`}}});console.log(i)}if(window.location.pathname==path.WORKS){document.querySelectorAll('a[href*="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),localStorage.set("linkTo",e.getAttribute("href").substr(1)),window.location.pathname=path.MAIN})})}